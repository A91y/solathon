import { Code } from '/components/Code';
import Callout from 'nextra-theme-docs/callout'

# Client
**The base client object used to interact with the blockchain. This is where it all begins.**

<Code>
  ```python 
  class Client(endpoint: str, local: bool=False)
  ```
</Code>

> To initialise a client, one of the three [RPC cluster endpoint URLs](https://docs.solana.com/cluster/rpc-endpoints) must be passed. When running a local cluster, the local argument must be passed as true for the local endpoint to work.

#### Methods
- [get_account_info](#get_account_info)
- [get_balance](#get_balance)
- [get_block](#get_block)
- [get_block_height](#get_block_height)
- [get_block_production](#get_block_production)
- [get_supply](#get_supply)
- [get_identity](#get_identity)
- [get_block](#get_block)
- [get_transaction](#get_transaction)
- [get_recent_blockhash](#get_recent_blockhash)
- [get_token_accounts_by_owner](#get_token_accounts_by_owner)
- [send_transaction](#send_transaction)

#### Attributes
- [endpoint](#endpoint)
- [http](#http)


## Methods
#### .get_account_info
Returns the account's information through the provided public key argument.

<Code>
```python 
def get_account_info(public_key: PublicKey | str)
```
</Code>

#### .get_balance
Returns the account's balance in [lamports](https://docs.solana.com/introduction#what-are-sols) through the provided public key argument.

<Code>
```python 
def get_balance(public_key: PublicKey | str)
```
</Code>

#### .get_block_height
Returns the current block height of the node

<Code>
```python 
def get_block_height()
```
</Code>

#### .get_block_production
Returns recent block production information from the current or previous epoch.

<Code>
```python 
def get_block_production()
```
</Code>

#### .get_supply
Returns information about the current supply.

<Code>
```python 
def get_supply()
```
</Code>

#### .get_identity
Returns the identity public key for the current node

<Code>
```python 
def get_identity()
```
</Code>

#### .get_block
Returns identity and transaction information about a confirmed block in the ledger by the slot provided

<Code>
```python 
def get_block(slot: int)
```
</Code>

#### .get_transaction
Returns a transaction's details by the confirmed transaction signature string (in base 58)

<Code>
```python 
def get_transaction(signature: str)
```
</Code>

#### .get_recent_blockhash
Returns a recent block hash from the ledger, and a fee schedule that can be used to compute the cost of submitting a transaction using it.

<Code>
```python 
def get_recent_blockhash()
```
</Code>

#### .get_token_accounts_by_owner
Returns all SPL Token accounts of the public key provided. Either mint_id or program_id keyword argument is required, encoding is optional.

<Code>
```python 
def get_token_accounts_by_owner(public_key: PublicKey | str, **kwargs)
```
</Code>

Example:

<Code>
```python 
from solathon import Client, PublicKey;
client = Client("https://api.mainnet-beta.solana.com");
public_key = PublicKey("B3BhJ1nvPvEhx3hq3nfK8hx4WYcKZdbhavSobZEA44ai")
# 
program_id = "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";
tokens = client.get_token_accounts_by_owner(public_key, program_id);
print(tokens)
```
</Code>

<Callout emoji="⚠️" type="warning">
    <p style={{color: "white", fontSize:"1rem"}}>This method returns token on mainnet only.</p>
</Callout>

#### .send_transaction
Submits a signed [transaction object](/models/transaction) to the cluster for processing, recent blockhash is optional.

<Code>
```python 
def send_transaction(transaction: Transaction, 
                    recent_blockhash: Optional[str] = None)
```
</Code>

Example:

<Code>
```python 
from solathon import Client, Transaction, PublicKey, Keypair;
client = Client("https://api.devnet.solana.com");
# Keep your private key secret! This is a dummy wallet for examples.
sender = Keypair.from_private_key((
    "5M8Vv4affuVJsKrTq3XofuxZLZEt5qrX3Xa5yyfVtNy6"
    "yvWoc8BTARJeXSRJNN7pGd1H6UarDxtKC5a2k21YM6WW"
));
# Directly public key string can be used but PublicKey object is recommended
receiver = PublicKey("B3BhJ1nvPvEhx3hq3nfK8hx4WYcKZdbhavSobZEA44a");
# This is the amount in lamports
amount = 1000;
transaction = Transaction(sender, receiver, amount)
result = client.send_transaction(transaction);
print(result)
```
</Code>



## Attributes
#### .endpoint
Returns the endpoint which the client is currentlly using.
#### .http
Returns the http object being used to interact with the JSON RPC.